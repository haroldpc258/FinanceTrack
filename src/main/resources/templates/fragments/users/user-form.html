<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
<body>
    <div th:fragment="user-form" class="bg-white rounded-xl shadow-sm p-6">
        <div class="mb-6">
            <h2 class="text-lg font-semibold mb-2">Información Personal</h2>
            <p class="text-sm text-gray-600">Ingresa los datos personales del usuario</p>
        </div>
        
        <form id="user-form"
              th:action="${user.id == null ? '/companies/' + companyId + '/users' : '/companies/' + companyId + '/users/' + user.id}"
              th:method="${user.id == null ? 'post' : 'put'}" th:object="${user}" class="space-y-6">
            <div class="grid grid-cols-2 gap-6">
                <div>
                    <label for="user-name" class="block text-sm font-medium text-gray-700 mb-1">
                        Nombre Completo
                    </label>
                    <input type="text" 
                           id="user-name"
                           name="name"
                           th:field="*{name}"
                           placeholder="Ej: Acme Inc."
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <div>
                    <label for="user-email" class="block text-sm font-medium text-gray-700 mb-1">
                        Correo Electrónico
                    </label>
                    <input type="email"
                           id="user-email"
                           name="email"
                           th:field="*{email}"
                           placeholder="Ej: juan@empresa.com"
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <div>
                    <label for="user-phone" class="block text-sm font-medium text-gray-700 mb-1">
                        Teléfono
                    </label>
                    <input type="tel" 
                           id="user-phone"
                           name="phone"
                           th:field="*{phoneNumber}"
                           placeholder="Ej: +1 (555) 123-4567"
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
                
                <div>
                    <label for="user-dni" class="block text-sm font-medium text-gray-700 mb-1">
                        Número de Identificación
                    </label>
                    <input type="text" 
                           id="user-dni"
                           name="dni"
                           th:field="*{dni}"
                           placeholder="Ej: 123456789"
                           class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                </div>
            </div>
            
            <div>
                <label for="user-role" class="block text-sm font-medium text-gray-700 mb-1">
                    Rol
                </label>
                <select th:field="*{role}" id="user-role" class="w-1/2 border border-gray-300 rounded-lg py-2 px-4 focus:ring-2 focus:ring-blue-500 focus:border-blue-500">
                    <option value="OPERATIVE">Operativo</option>
                    <option value="ADMINISTRATOR">Administrador</option>
                </select>

            </div>
            
            <div th:if="${user.id != null}">
                <label class="block text-sm font-medium text-gray-700 mb-3">
                    Estado del Empleado
                </label>
                <div class="flex space-x-4">
                    <label class="flex items-center">
                        <input type="radio"
                               name="status"
                               th:field="*{status}"
                               value="ACTIVE"
                               checked 
                               class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                        <span class="ml-2 text-sm text-gray-700">Activo</span>
                    </label>
                    
                    <label class="flex items-center">
                        <input type="radio"
                               name="status"
                               th:field="*{status}"
                               value="SUSPENDED"
                               class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300">
                        <span class="ml-2 text-sm text-gray-700">Suspendido</span>
                    </label>
                </div>
            </div>
            <div class="flex justify-end space-x-4 pt-4">
                <a th:href="@{|/companies/${companyId}/users|}"
                   class="px-6 py-2.5 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors">
                    Cancelar
                </a>
                <button form="user-form"
                        type="submit"
                        onclick="return confirm('¿Estás seguro de la información ingresada para este usuario?')"
                        class="px-6 py-2.5 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors flex items-center space-x-2">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                        <polyline points="17 21 17 13 7 13 7 21"/>
                        <polyline points="7 3 7 8 15 8"/>
                    </svg>
                    <span>Guardar</span>
                </button>
            </div>
        </form>
    </div>
</body>
</html>

